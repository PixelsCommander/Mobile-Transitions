(function(a){a.mobileTransitions={init:function(){b.refreshPages(),b.setCurrentPage(b.transitionPages[0]),b.hideAllExceptActive(),b.body=document.querySelector("body"),b.body.style["-webkit-backface-visibility"]="hidden",b.body.style["-webkit-perspective"]="1000",b.body.style["-webkit-transform"]="translateX(0) translateZ(0)",b.body.style["-webkit-transition"]="all .3s ease",b.body.style.position="relative",b.isMobile.iOS()===!0?(b.movePageRight=b.movePageRightWithLeft,b.movePageLeft=b.movePageLeftWithLeft):(b.movePageRight=b.movePageRightWithTransform,b.movePageLeft=b.movePageLeftWithTransform)},changePage:function(a){b.timeStarted=Date.now(),b.currentPage===undefined&&b.init();if(a===b.currentPage.id)return;b.pageTo=document.getElementById(a),b.pageTo.style["-webkit-backface-visibility"]="hidden",b.pageTo.style["-webkit-perspective"]="1000",b.pageTo.style["-webkit-transform"]="translateZ(0)",b.moveLeft()},refreshPages:function(){b.transitionPages=document.getElementsByClassName("page")},setCurrentPage:function(a){b.currentPage!==undefined&&b.currentPage.dispatchEvent(b.getEvent("pagehide")),b.currentPage=a,b.currentPage.style.visibility="visible",b.currentPage.dispatchEvent(b.getEvent("pageshow")),b.hideAllExceptActive(),b.currentPage.wasUsed=!0},moveLeft:function(){setTimeout(function(){b.pageTo.wasUsed===undefined&&b.movePageRight(b.pageTo),b.pageTo.style.visibility="visible",b.body.addEventListener("webkitTransitionEnd",b.returnCenter,!1),b.body.style["-webkit-transform"]="translateX(-100%)",b.timeFinished=Date.now()},1)},returnCenter:function(){b.movePageRight(b.currentPage),b.setCurrentPage(b.pageTo),b.body.removeEventListener("webkitTransitionEnd",b.returnCenter,!1),b.body.style["-webkit-transition"]="none",b.body.style["-webkit-transform"]="translateX(0)",b.movePageLeft(b.pageTo),setTimeout(function(){b.body.style["-webkit-transition"]="all .3s ease"},1)},hideAllExceptActive:function(){b.refreshPages();for(var a=0;a<b.transitionPages.length;a++)b.transitionPages[a]!==b.currentPage?b.transitionPages[a].style.visibility="hidden":b.transitionPages[a].style.visibility="visible"},getEvent:function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!0),b},movePageLeftWithLeft:function(a){a.style.left="0"},movePageLeftWithTransform:function(a){a.style["-webkit-transform"]="translateX(0)"},movePageRightWithLeft:function(a){a.style.left="100%"},movePageRightWithTransform:function(a){console.log("moved right "+a.id),a.style["-webkit-transform"]="translateX(100%)"},isMobile:{Android:function(){return navigator.userAgent.toLowerCase().match(/android/i)},BlackBerry:function(){return navigator.userAgent.toLowerCase().match(/blackberry/i)},iOS:function(){return navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod/i)},Opera:function(){return navigator.userAgent.toLowerCase().match(/opera mini/i)},Windows:function(){return navigator.userAgent.toLowerCase().match(/iemobile/i)},any:function(){return b.isMobile.Android()||b.isMobile.BlackBerry()||b.isMobile.iOS()||b.isMobile.Opera()||b.isMobile.Windows()}}};var b=a.mobileTransitions;window.mt=a.mobileTransitions,window.initTransitions=b.init,window.changePage=b.changePage})(window)